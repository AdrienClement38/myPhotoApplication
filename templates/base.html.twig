<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="UTF-8">
	<title>
		{% block title %}Welcome!
		{% endblock %}
	</title>
	<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>"> {% block stylesheets %}{% endblock %}

	{% block javascripts %}
		{% block importmap %}
			{{ importmap('app') }}
		{% endblock %}
	{% endblock %}
	{% block js %}{% endblock %}

</head>
<body>
<header>
	<nav class="navbar">
		<div class="navbar__logo">
			<a
					href="{{ path('app_home') }}" class="links">
				<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
			</a>
		</div>
		<ul class="navbar__menu">
			<li class="navbar__item">
				<a href="{{ path('app_home') }}" class="links">Accueil</a>
			</li>
			<li class="navbar__item links">
				<a href="#" class="links">Photos</a>
			</li>
			{# if connected then only display logout, else display login and register #}
			{% if app.user %}
				{% if app.user.customer.name is defined %}
					<li class="navbar__item">
						<p>Bonjour {{ app.user.customer.name }}</p>
					</li>
				{% endif %}
				<li class="navbar__item">
					<div class="dropdown">
						<button onclick="toggleDropdown()" class="dropbtn">
							<?xml
									version="1.0" encoding="utf-8"?>
							<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
							<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" width="30px" height="30px" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></svg>
						</button>
						<div id="myDropdown" class="dropdown-content">
							<a href="{{ path('app_user_show', { 'id': app.user.id }) }}">Profil</a>
							<a href="#">Paramètres</a>
							<hr>
							<a href="{{ path('app_logout') }}">
								<?xml
											version="1.0" encoding="utf-8"?>
								<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
								<svg width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path fill-rule="evenodd" clip-rule="evenodd" d="M19 23H11C10.4477 23 10 22.5523 10 22C10 21.4477 10.4477 21 11 21H19C19.5523 21 20 20.5523 20 20V4C20 3.44772 19.5523 3 19 3L11 3C10.4477 3 10 2.55229 10 2C10 1.44772 10.4477 1 11 1L19 1C20.6569 1 22 2.34315 22 4V20C22 21.6569 20.6569 23 19 23Z" fill="#000000"></path>
									<path fill-rule="evenodd" clip-rule="evenodd" d="M2.48861 13.3099C1.83712 12.5581 1.83712 11.4419 2.48862 10.6902L6.66532 5.87088C7.87786 4.47179 10.1767 5.32933 10.1767 7.18074L10.1767 9.00001H16.1767C17.2813 9.00001 18.1767 9.89544 18.1767 11V13C18.1767 14.1046 17.2813 15 16.1767 15L10.1767 15V16.8193C10.1767 18.6707 7.87786 19.5282 6.66532 18.1291L2.48861 13.3099ZM4.5676 11.3451C4.24185 11.7209 4.24185 12.2791 4.5676 12.6549L8.1767 16.8193V14.5C8.1767 13.6716 8.84827 13 9.6767 13L16.1767 13V11L9.6767 11C8.84827 11 8.1767 10.3284 8.1767 9.50001L8.1767 7.18074L4.5676 11.3451Z" fill="#000000"></path>
								</svg>
								Logout
							</a>
						</div>
					</div>
				</li>
				<li class="navbar__item">
					<a href="{{ path('app_cart_show') }}" class="links">
						<?xml
									version="1.0" encoding="utf-8"?>
						<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
						<svg class="navbar__svg" width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M7.5 18C8.32843 18 9 18.6716 9 19.5C9 20.3284 8.32843 21 7.5 21C6.67157 21 6 20.3284 6 19.5C6 18.6716 6.67157 18 7.5 18Z" stroke-width="1.5"></path>
							<path d="M16.5 18.0001C17.3284 18.0001 18 18.6716 18 19.5001C18 20.3285 17.3284 21.0001 16.5 21.0001C15.6716 21.0001 15 20.3285 15 19.5001C15 18.6716 15.6716 18.0001 16.5 18.0001Z" stroke-width="1.5"></path>
							<path d="M2 3L2.26121 3.09184C3.5628 3.54945 4.2136 3.77826 4.58584 4.32298C4.95808 4.86771 4.95808 5.59126 4.95808 7.03836V9.76C4.95808 12.7016 5.02132 13.6723 5.88772 14.5862C6.75412 15.5 8.14857 15.5 10.9375 15.5H12M16.2404 15.5C17.8014 15.5 18.5819 15.5 19.1336 15.0504C19.6853 14.6008 19.8429 13.8364 20.158 12.3075L20.6578 9.88275C21.0049 8.14369 21.1784 7.27417 20.7345 6.69708C20.2906 6.12 18.7738 6.12 17.0888 6.12H11.0235M4.95808 6.12H7" stroke-width="1.5" stroke-linecap="round"></path>
						</svg>
						{% set sessionCart = app.session.get('cart', {}) %}
						{# J'initialise une variable pour stocker la quantité totale de la session #}
						{% set sessionCartTotalQuantity = 0 %}
						{# Je parcours tous les éléments du tableau de session #}
						{% for item in sessionCart %}
							{# J'ajoute la quantité de chaque produit à la variable sessionCartTotalQuantity #}
							{% set sessionCartTotalQuantity = sessionCartTotalQuantity + item.quantity %}
						{% endfor %}
						<span id="cart_quantity">{{ sessionCartTotalQuantity }}</span>
					</a>
				</li>
			{% else %}
				<li class="navbar__item">
					<a href="{{ path('app_register')}}" class="links">Register</a>
				</li>
				<li class="navbar__item">
					<a href="{{ path('app_login') }}" class="links">
						<?xml
									version="1.0" encoding="utf-8"?>
						<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
						<svg class="navbar__svg" width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path fill-rule="evenodd" clip-rule="evenodd" d="M20 23L12 23C11.4477 23 11 22.5523 11 22C11 21.4477 11.4477 21 12 21L20 21C20.5523 21 21 20.5523 21 20L21 4C21 3.44771 20.5523 3 20 3L12 3C11.4477 3 11 2.55228 11 2C11 1.44772 11.4477 1 12 1L20 0.999999C21.6569 0.999999 23 2.34315 23 4L23 20C23 21.6569 21.6569 23 20 23Z" fill="#0F0F0F"></path>
							<path fill-rule="evenodd" clip-rule="evenodd" d="M18.6881 10.6901C19.3396 11.4418 19.3396 12.5581 18.6881 13.3098L14.5114 18.1291C13.2988 19.5282 11 18.6707 11 16.8193L11 15L5 15C3.89543 15 3 14.1046 3 13L3 11C3 9.89541 3.89543 8.99998 5 8.99998L11 8.99998L11 7.18071C11 5.3293 13.2988 4.47176 14.5114 5.87085L18.6881 10.6901ZM16.6091 12.6549C16.9348 12.279 16.9348 11.7209 16.6091 11.345L13 7.18071L13 9.49998C13 10.3284 12.3284 11 11.5 11L5 11L5 13L11.5 13C12.3284 13 13 13.6716 13 14.5L13 16.8193L16.6091 12.6549Z" fill="#0F0F0F"></path>
						</svg>
					</a>
				</li>
			{% endif %}
		</ul>
	</nav>
</header>
<main>
	{% block body %}{% endblock %}
</main>
<footer>
	<p>&copy; 2024 Ecommerce 3WA. Tous droits réservés.</p>
</footer>
</body>
</html>
